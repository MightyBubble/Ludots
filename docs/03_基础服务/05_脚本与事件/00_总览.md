---
文档类型: 总览入口
创建日期: 2026-02-05
最后更新: 2026-02-05
维护人: X28技术团队
文档版本: v0.1
适用范围: 基础服务 - 脚本与事件 - 目录入口
状态: 草案
---

# 脚本与事件 总览

# 1 本目录定位

本目录定义运行时脚本上下文（ContextKeys/FunctionRegistry）与事件触发框架（TriggerManager），以及 gameplay 事件总线的边界。
裁决：触发器必须是 fail-fast，可观测，禁止静默吞错；事件键禁止 magic string。

## 1.1 读者与范围

读者：

- 引擎/工具开发者：需要定义事件触发点、异常策略与可观测边界。
- 上层系统开发者：需要通过 Trigger/FunctionRegistry 扩展，不得绕过边界直接调用引擎内部。

范围：

- ScriptContext：脚本可见的上下文键与取值方式
- EventKey/GameEvents：事件键的强类型入口与禁止 magic string
- TriggerManager：Trigger 注册、触发执行顺序、异常处理口径（fail-fast）
- GameplayEventBus：GAS 侧事件总线与引擎 Trigger 的边界

## 1.2 本目录边界

- 本目录只定义“触发框架与脚本上下文”，不定义业务事件语义。  
- 外部脚本语言/DSL 适配不在此处裁决，必须归档到 external。  

## 1.3 推荐阅读顺序

1. `docs/02_核心引擎/01_总架构/01_GameEngine_架构设计.md`（触发点来自引擎生命周期）
2. `docs/03_基础服务/05_脚本与事件/01_ScriptContext_接口规范.md`
3. `docs/03_基础服务/05_脚本与事件/02_TriggerManager.md`
4. `docs/03_基础服务/05_脚本与事件/03_GameplayEventBus_接口规范.md`

# 2 SSOT

- `src/Core/Scripting/`
- `src/Core/Gameplay/GAS/GameplayEventBus.cs`

# 3 子文档索引

## 3.1 子文档清单

- `docs/03_基础服务/05_脚本与事件/01_ScriptContext_接口规范.md`
- `docs/03_基础服务/05_脚本与事件/02_TriggerManager.md`
- `docs/03_基础服务/05_脚本与事件/03_GameplayEventBus_接口规范.md`
- `docs/03_基础服务/05_脚本与事件/99_KANBAN.md`

## 3.2 文档类型与阅读路径

- 接口规范：优先读“失败策略/顺序/上下文键口径”，再读扩展点。  

