---
文档类型: 总览入口
创建日期: 2026-02-05
最后更新: 2026-02-05
维护人: X28技术团队
文档版本: v0.1
适用范围: 核心引擎 - TimeSlice与分帧策略 - 目录入口
状态: 草案
---

# TimeSlice与分帧策略 总览

# 1 本目录定位

## 1.1 读者与范围

读者：

- 引擎/基建开发者：需要定义 time-slice 的暂停/恢复语义与预算熔断口径。
- 上层系统开发者：需要选择 targetHz/bucketing/workUnits 的策略组合，并保证 determinism。

范围：

- TimeSlice 基本模型（暂停/恢复、BudgetFuse）
- 多频率策略：目标 Hz 分发、分帧分桶、workUnits 队列推进

## 1.2 本目录边界

- 不定义具体业务算法（寻路/避障/flow），只定义可复用的策略与约束。  
- run-by-step/run-until 的控制器机制由运行控制目录承载。  

## 1.3 推荐阅读顺序

1. `docs/02_核心引擎/03_TimeSlice与分帧策略/01_TimeSlice与分帧策略_架构设计.md`
2. `docs/02_核心引擎/04_运行控制与调试/00_总览.md`

# 2 SSOT

## 2.1 代码入口

- cooperative 暂停/恢复：`src/Core/Engine/Pacemaker/PhaseOrderedCooperativeSimulation.cs`
- Pacemaker 外层预算：`src/Core/Engine/Pacemaker/IPacemaker.cs`
- targetHz 分发参考：`src/Core/Engine/Physics2D/DiscreteRateTickDistributor.cs`

## 2.2 口径说明

- 裁决真源是离散 tick（IClock）；TimeSlice 只改变耗时分摊，不改变裁决边界。  

## 2.3 关键约束

1. 禁止 wall-clock 驱动裁决：不得用 dt 直接决定逻辑推进次数。  
2. reset 必须幂等：BudgetFuse 后可回到干净态并继续推进。  
3. tie-break 固化：分桶与 K 选择必须基于稳定键。  

# 3 子文档索引

## 3.1 子文档清单

- `docs/02_核心引擎/03_TimeSlice与分帧策略/01_TimeSlice与分帧策略_架构设计.md`

## 3.2 文档类型与阅读路径

- 架构设计：先读策略组合与异常分支，再查差距清单与迁移策略。  
