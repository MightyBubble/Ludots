---
文档类型: 总览入口
创建日期: 2026-02-05
最后更新: 2026-02-05
维护人: X28技术团队
文档版本: v0.1
适用范围: 核心引擎 - 运行控制与调试 - 目录入口
状态: 草案
---

# 运行控制与调试 总览

# 1 本目录定位

## 1.1 读者与范围

读者：

- 引擎/工具开发者：需要提供“暂停/单步/run-until”的一致控制口径。
- 测试/调试使用者：需要用可观测、可回放的方式推进仿真到某个条件满足。

范围：

- run-by-step：切换 TurnBased 并显式推进 fixed tick
- run-until：在每个 fixed tick 后检查条件并继续推进
- 运行控制相关的配置化策略（GAS StepPolicy、Physics2D TickPolicy）

## 1.2 本目录边界

- 本目录不重复 PhaseOrder 与 TimeSlice 细节，只引用其 SSOT。  
- 本目录只描述“控制器机制与约束”，不描述业务算法。  

## 1.3 推荐阅读顺序

1. `docs/02_核心引擎/04_运行控制与调试/01_仿真运行控制_架构设计.md`
2. `docs/02_核心引擎/04_运行控制与调试/02_GAS与Physics运行控制_对齐报告.md`

# 2 SSOT

## 2.1 代码入口

- 仿真循环控制器：`src/Core/Engine/Pacemaker/SimulationLoopController.cs`
- Pacemaker（Realtime/TurnBased）：`src/Core/Engine/Pacemaker/IPacemaker.cs`
- fixed tick 完成回调挂接：`src/Core/Engine/GameEngine.cs`
- GAS run-until：`src/Core/Gameplay/GAS/GasController.cs`
- GAS step policy：`src/Core/Gameplay/GAS/GasClockStepPolicy.cs`
- Physics2D run-until：`src/Core/Engine/Physics2D/Physics2DController.cs`
- Physics2D tick policy：`src/Core/Engine/Physics2D/Physics2DTickPolicy.cs`

## 2.2 口径说明

- run-by-step 必须通过 TurnBasedPacemaker 的 `Step()` 累积 fixed tick，再由引擎统一推进。  
- run-until 必须通过“fixed tick 完成回调”驱动，不允许在系统 Update 内部递归推进。  

## 2.3 关键约束

1. 禁止递归推进：控制器只能请求下一步，不得在当前推进窗口内重入推进。  
2. 条件判定必须可观测：完成原因必须记录（Idle/Blocked/MaxTicks 等）。  
3. 策略切换必须版本化：policy 参数更新必须显式生效，禁止隐式漂移。  

# 3 子文档索引

## 3.1 子文档清单

- `docs/02_核心引擎/04_运行控制与调试/01_仿真运行控制_架构设计.md`
- `docs/02_核心引擎/04_运行控制与调试/02_GAS与Physics运行控制_对齐报告.md`

## 3.2 文档类型与阅读路径

- 架构设计：理解控制器边界、主流程与状态机。  
- 对齐报告：检查文档口径与代码现状差异，并追踪行动项。  
